
<html>
<head>
	<title>Orifice Experiment</title>


<style>
	#child1 {
  position: absolute;
 border: 3px solid blue;
  color: white;
 background-color: black;
  top: 100px;
  left: 400px;
}
	#child2 {
  position: absolute;
 border: 3px solid blue;
  color: white;
 background-color: black;
  top: 100px;
  right: 500px;
}

	</style>
</head>
<body>
		
	<canvas id = "myCanvas" width = "1000" height = "650" style=" border:10px solid #483d8b ;">This is Canvas</canvas>
	

	<script>

		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
        ctx.font = "20px Bold"
        ctx.fillStyle = "Blue";
        var text = ctx.measureText("Orifice");
        ctx.fillText("Orifice", 100,30);
        ctx.strokeStyle = "#000000";
        ctx.strokeRect(100, 33, text.width,0.3);
        canvas.style.left = "100px";
        canvas.style.position = "absolute";

        function fill_text(font_size, color, text, left, top)
        {
        	ctx.font = font_size;
			ctx.fillStyle = color;
			ctx.fillText(text, left, top);
        }
        


        fill_text("20px Bold", 'blue', "Upstream Pressure Tap", 200, 200);
        fill_text("20px Bold", 'blue',"(Pa)", 240, 230);
		fill_text("20px bold", 'blue', "Downstream Pressure Tap", 520, 200);
		fill_text("20px Bold", 'blue',"(Pb)", 600, 230);
		fill_text("18px bold", 'blue', "Flow direction", 40, 350);
		fill_text("14px bold", 'blue', "Da", 166, 370);

    	function triangle(x, y, x1, y1, x2, y2)
    	{
    		   	ctx.beginPath();
    			ctx.moveTo(x, y);
    			ctx.lineTo(x1, y1);
    			ctx.lineTo(x2, y2);
    			ctx.fill();
		    	ctx.closePath();
		    	ctx.stroke();

    	}
    	triangle(400, 230, 390, 220, 390, 240);
    	triangle(150, 360, 140, 350, 140, 370);
    	triangle(510, 271, 520, 261, 520, 281);
    	triangle(170, 302, 165, 310, 175, 310);
    	triangle(170, 420, 165, 410, 175, 410);

    	 
function draw_line(startX, startY, newX, newY){
	ctx.beginPath();
ctx.moveTo(startX, startY);
ctx.lineTo(newX, newY);
ctx.stroke();
}
	draw_line(185, 300, 400, 300);
	draw_line(400, 300, 400, 200);
	draw_line(406, 200, 406, 300);
	draw_line(406, 300, 500, 300);
	draw_line(500, 300, 500, 200);
	draw_line(506, 200, 506, 300);
	draw_line(506, 300, 800, 300);
	draw_line(185, 425, 800, 425);
	draw_line(450, 300, 450, 355);
	draw_line(460, 300, 460, 355);
	draw_line(450, 355, 460, 355);
	draw_line(450, 425, 450, 380);
	draw_line(460, 425, 460, 380);
	draw_line(450, 380, 460, 380);

	function lines(startX, startY, newX, newY)
	{
			ctx.beginPath();
			ctx.strokeStyle = "black"
ctx.moveTo(startX, startY);
ctx.lineTo(newX, newY);
ctx.stroke();
	}

	lines(160, 300, 180, 300);
	lines(160, 420, 180, 420);


function line_filling(color, iX, iY, nX, nY)
{
			ctx.fillStyle = color;
			ctx.fillRect(iX, iY, nX, nY);

}

			line_filling("#B4B4C6", 450, 300, 10, 55);
			line_filling("#B4B4C6", 450, 380, 10, 45);
			line_filling("blue", 300, 200, 2, 30);
			line_filling("blue", 300, 230,90, 2);
			line_filling("blue", 50, 360, 90, 2);
			line_filling("blue", 570, 202,2, 70);
			line_filling("blue", 520, 271,52, 2);
			line_filling("blue", 169, 308, 2, 50);
			line_filling("blue", 169, 373, 2, 45);

			var x_water = 200;


	//animate();
		
	</script>

	<script>
				var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		var x_water = 200;
		var y_water = 300;
		var y_water_2 = 300;
		var x_water_reverse = 506;
			function animations()
	{
		
		id=window.requestAnimationFrame(animations);

		var i = 0
		if(x_water > 439 && x_water <460)
		{
			
			ctx.fillStyle = "#4679D5";
			ctx.fillRect(x_water, 356, 10, 23 + i);
			i = i + 5;
			x_water = x_water + 0.3;
		}
		else if(x_water<780)
		{
			if(x_water> 400 && x_water < 460 && y_water>220)
			{
				ctx.fillStyle = "#4679D5";
				ctx.fillRect(400, y_water,6, -7);
				y_water = y_water - 0.8;
			}
			if(x_water>500 && x_water < 560 && y_water_2 > 270)
			{
				ctx.fillStyle = "#4679D5";
				ctx.fillRect(500, y_water_2,6, -7);
				y_water_2 = y_water_2 - 0.5;
			}
			ctx.fillStyle = "#4679D5";
			ctx.fillRect(x_water, 301, 10, 124);
			
			for(var i = 200; i<450; i = i + 20)
			for(var j = 301; j<425; j = j + 20)
			{
				ctx.fillStyle = "white";
				ctx.fillRect(i, j, 5,1);
			}
			if(x_water > 460)
			{

			for(var i = 460; i<790; i = i + 20)
			for(var j = 301; j<422; j = j + 20)
			{
				ctx.beginPath();

				ctx.arc(i, j + 3, 2, -0.5* Math.PI, -1.5* Math.PI);
				ctx.strokeStyle = "white";
				ctx.stroke();
			}

			}
			
			x_water = x_water + 0.5;

		}
		else {
			cancelAnimationFrame(id);
		}


	}
	</script>
	<button  type = "button" onclick =  "animations()" id = 'child1' >Start</button>
	<input type="button" value="Re-set" onClick="document.location.reload(true) " id = "child2">
	
</body>
</html>


