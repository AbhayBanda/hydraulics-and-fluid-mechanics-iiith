
<html>
<head>
	<title>Orifice Experiment</title>


<style>
	#child1 {
  position: absolute;
 border: 3px solid blue;
  color: white;
 background-color: black;
  top: 100px;
  left: 400px;
}
	#child2 {
  position: absolute;
 border: 3px solid blue;
  color: white;
 background-color: black;
  top: 100px;
  left: 800px;
}

#Div {
	position: absolute;
	top : 700;
	left: 300;
}

	</style>
</head>
<body>
		
	<canvas id = "myCanvas" width = "1000" height = "600" style=" border:10px solid #483d8b ;">This is Canvas</canvas>
	

	<script>

		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
        ctx.font = "20px Bold"
        ctx.fillStyle = "Blue";
        var text = ctx.measureText("Orifice");
        ctx.fillText("Orifice", 100,30);
        ctx.strokeStyle = "#000000";
        ctx.strokeRect(100, 33, text.width,0.3);
        canvas.style.left = "170px";
        canvas.style.position = "absolute";

        function fill_text(font_size, color, text, left, top)
        {
        	ctx.font = font_size;
			ctx.fillStyle = color;
			ctx.fillText(text, left, top);
        }
        

        fill_text("10px bold", 'red', "Db", 495, 372);
        fill_text("20px Bold", 'blue', "Upstream Pressure Tap", 200, 200);
        fill_text("20px Bold", 'blue',"(Pa)", 240, 230);
		fill_text("20px bold", 'blue', "Downstream Pressure Tap", 540, 200);
		fill_text("20px Bold", 'blue',"(Pb)", 600, 230);
		fill_text("18px bold", 'blue', "Flow direction", 40, 350);
		fill_text("14px bold", 'blue', "Da", 180, 370);

		

    	function triangle(x, y, x1, y1, x2, y2)
    	{
    		   	ctx.beginPath();
    			ctx.moveTo(x + 10, y);
    			ctx.lineTo(x1 + 10, y1);
    			ctx.lineTo(x2 + 10, y2);
    			ctx.fill();
		    	ctx.closePath();
		    	ctx.stroke();

    	}
    	triangle(410, 230, 400, 220, 400, 240);
    	triangle(160, 360, 150, 350, 150, 370);
    	triangle(520, 271, 530, 261, 530, 281);
    	triangle(180, 302, 175, 310, 185, 310);
    	triangle(180, 420, 175, 410, 185, 410);

    	 
function draw_line(startX, startY, newX, newY){
	ctx.beginPath();
ctx.moveTo(startX + 10, startY);
ctx.lineTo(newX + 10, newY);
ctx.stroke();
}
	draw_line(195, 300, 410, 300);
	draw_line(410, 300, 410, 200);
	draw_line(416, 200, 416, 300);
	draw_line(416, 300, 510, 300);
	draw_line(510, 300, 510, 200);
	draw_line(516, 200, 516, 300);
	draw_line(516, 300, 810, 300);
	draw_line(195, 425, 810, 425);
	draw_line(460, 300, 460, 355);
	draw_line(470, 300, 470, 355);
	draw_line(460, 355, 470, 355);
	draw_line(460, 425, 460, 380);
	draw_line(470, 425, 470, 380);
	draw_line(460, 380, 470, 380);

	function lines(startX, startY, newX, newY)
	{
			ctx.beginPath();
			ctx.strokeStyle = "black"
ctx.moveTo(startX + 10, startY);
ctx.lineTo(newX + 10, newY);
ctx.stroke();
	}

	lines(170, 300, 190, 300);
	lines(170, 420, 190, 420);


function line_filling(color, iX , iY, nX, nY)
{
			ctx.fillStyle = color;
			ctx.fillRect(iX, iY, nX , nY);

}

			line_filling("#B4B4C6", 470, 300, 10, 55);
			line_filling("#B4B4C6", 470, 380, 10, 45);
			line_filling("blue", 310, 200, 2, 30);
			line_filling("blue", 310, 230,100, 2);
			line_filling("blue", 60, 360, 100, 2);
			line_filling("blue", 580, 202,2, 70);
			line_filling("blue", 530, 271,52, 2);
			line_filling("blue", 189, 308, 2, 50);
			line_filling("blue", 189, 373, 2, 45);
			line_filling('red', 485, 355, 10 , 1);
			line_filling('red', 485, 382, 10 , 1);
			line_filling('red', 490, 355, 1 , 27);

			var x_water = 200;


	//animate();
		
	</script>

	<script>
				var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext("2d");
		var x_water = 220;
		var y_water = 300;
		var y_water_2 = 310;
		var x_water_reverse = 516;
			function animations()
	{
		
		id=window.requestAnimationFrame(animations);

		var i = 0
		if(x_water > 459 && x_water <480)
		{
			
			ctx.fillStyle = "#4679D5";
			ctx.fillRect(x_water, 356, 10, 23 + i);
			i = i + 5;
			x_water = x_water + 1.5;
		}
		else if(x_water<800)
		{
			if(x_water> 420 && x_water < 810 && y_water>215)
			{
				ctx.fillStyle = "#4679D5";
				ctx.fillRect(420, y_water,6, -2);
				y_water = y_water - 0.2;
			}
			if(x_water>520 && x_water < 810 && y_water_2 > 250)
			{
				ctx.fillStyle = "#4679D5";
				ctx.fillRect(520, y_water_2 -10 ,6, -1);
				y_water_2 = y_water_2 - 0.1;
			ctx.fillStyle = 'red';
			ctx.fillRect(485, 355, 10 , 1);
			ctx.font = "5px";
			ctx.fillStyle = 'red';
			ctx.fillStyle = 'red';
			ctx.fillRect(485, 382, 10 , 1);
			ctx.font = "5px";
			ctx.fillRect(490, 355, 1 , 27);
			ctx.font = "5px";
			ctx.fillStyle = "red";
			ctx.fillText("D b", 500, 370);


			}
			ctx.fillStyle = "#4679D5";
			ctx.fillRect(x_water, 301, 10, 124);
			
			for(var i = 220; i<470; i = i + 20)
			for(var j = 301; j<425; j = j + 20)
			{
				ctx.fillStyle = "white";
				ctx.fillRect(i, j, 5,1);
			}
			if(x_water > 460)
			{

			for(var i = 480; i<810; i = i + 20)
			for(var j = 301; j<422; j = j + 20)
			{
				ctx.beginPath();

				ctx.arc(i, j + 3, 2, -0.5* Math.PI, -1.5* Math.PI);
				ctx.strokeStyle = "white";
				ctx.stroke();
			}

			}
			
			x_water = x_water + 1;

		}
		else {
			cancelAnimationFrame(id);
		}


	}
	</script>
	<button  type = "button" onclick =  "animations()" id = 'child1' >Start</button>
	<input type="button" value="Re-set" onClick="document.location.reload(true) " id = "child2">
	<form>
<div id = "Div">
H : <input type="text" id="Height" />
Orrifice Dia : <input type="text" id="Orrifice_dia" style = "position: absolute; left: 300px; top : 0px;" /><br><br>
D1 : <input type="text" id="D1" />
Time :  <input type="text" id="Time" /><br><br>
D2 : <input type="text" id="D2" />


<input type="button" onClick="multiplyBy()" Value="Calculate" />
<!--<input type="button" onClick="divideBy()" Value="Divide" />-->
</form>
</div>
	
</body>
</html>


